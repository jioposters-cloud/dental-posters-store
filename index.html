---
layout: default
title: Status Ring - Dental Posters & 3D Prints Store
---
<div class="hero">
  <h1>Welcome to Status Ring Store</h1>
  <p>Quality dental posters, patient education materials, books, and 3D printed items</p>
</div>

<div class="category-filter">
  <h2>Shop by Category</h2>
  <div class="categories">
    <button class="category-btn" data-category="all">All Products</button>
  </div>
</div>

<div id="products-container" class="products-grid"></div>

<div class="pagination">
  <button id="prev-btn" class="pagination-btn">← Previous</button>
  <span id="page-info">Loading...</span>
  <button id="next-btn" class="pagination-btn">Next →</button>
</div>

<script>
const CSV_URL = 'https://docs.google.com/spreadsheets/d/e/2PACX-1vRnYbVG299QQv6YoaSs1UZl7KfUo6CZxxcfUJJnMjaL_kFH4O2L52iwPM02TObQxgwIdb-FkRLI2et1/pub?gid=703936022&single=true&output=csv';
const SNIPCART_API_KEY = 'MWQ0YWM2OTAtNGJhYy00YjQ1LWI5MTctMWMyYThNTM1YzkwNjM';
const ITEMS_PER_PAGE = 18;
let allProducts = [], filteredProducts = [], currentPage = 1;

function parseCSV(csv) {
  const lines = csv.trim().split('\n');
  const products = [];
  
  for (let i = 1; i < lines.length; i++) {
    if (!lines[i].trim()) continue;
    const values = lines[i].split(',').map(v => v.trim());
    const product = {
      image: values[0],     // A - Product Image
      name: values[1],      // B - Product Name
      price: values[5],     // F - Price
      description: values[6], // G - Description
      size: values[10],     // K - Size
      category: values[16], // Q - Category
      id: `product-${i}`    // Unique ID for Snipcart
    };
    products.push(product);
  }
  return products;
}

async function loadProducts() {
  try {
    const response = await fetch(CSV_URL);
    const csvText = await response.text();
    allProducts = parseCSV(csvText);
    filteredProducts = allProducts;
    renderProducts();
  } catch (e) {
    console.error('Error loading products:', e);
    document.getElementById('products-container').innerHTML = '<p style="text-align:center;padding:2rem">Error loading products. Please refresh the page.</p>';
  }
}

function renderProducts() {
  const container = document.getElementById('products-container');
  container.innerHTML = '';
  const start = (currentPage - 1) * ITEMS_PER_PAGE;
  const end = start + ITEMS_PER_PAGE;
  filteredProducts.slice(start, end).forEach(product => {
    container.appendChild(createProductCard(product));
  });
  updatePagination();
  // Reload Snipcart to recognize new items
  if (window.Snipcart) {
    window.Snipcart.api.cart.items.refresh();
  }
}

function createProductCard(p) {
  const card = document.createElement('div');
  card.className = 'product-card';
  const img = p.image || 'https://via.placeholder.com/250x300?text=No+Image';
  
  card.innerHTML = `
    <img src="${img}" alt="${p.name}" class="product-image" onerror="this.src='https://via.placeholder.com/250x300?text=No+Image'">
    <h3>${p.name || 'Product'}</h3>
    <p class="product-category">${p.category || 'General'}</p>
    <p class="product-desc">${p.description ? p.description.substring(0, 100) : 'No description'}...</p>
    ${p.size ? `<p class="product-size"><strong>Size:</strong> ${p.size}</p>` : ''}
    <p class="product-price"><strong>₹${p.price || 'Contact'}</strong></p>
    <button class="snipcart-add-item add-to-cart-btn"
            data-item-id="${p.id}"
            data-item-name="${p.name}"
            data-item-price="${p.price}"
            data-item-url="https://jioposters-cloud.github.io/dental-posters-store/"
            data-item-image="${img}">
      Add to Cart
    </button>
    <a href="#" class="whatsapp-btn" onclick="window.open('https://wa.me/919714293282?text=I want ${encodeURIComponent(p.name)}', '_blank'); return false;">
      WhatsApp Order
    </a>
  `;
  return card;
}

function updatePagination() {
  const pages = Math.ceil(filteredProducts.length / ITEMS_PER_PAGE);
  document.getElementById('page-info').textContent = `Page ${currentPage} of ${pages} | ${filteredProducts.length} items`;
  document.getElementById('prev-btn').disabled = currentPage === 1;
  document.getElementById('next-btn').disabled = currentPage === pages;
}

document.getElementById('prev-btn').addEventListener('click', () => {
  if (currentPage > 1) { currentPage--; renderProducts(); window.scrollTo(0,0); }
});

document.getElementById('next-btn').addEventListener('click', () => {
  if (currentPage < Math.ceil(filteredProducts.length / ITEMS_PER_PAGE)) { currentPage++; renderProducts(); window.scrollTo(0,0); }
});

window.addEventListener('load', loadProducts);
</script>
